-- Blox Fruit Script VIP
-- Created by Anh
-- Version: 2.0

if not game:IsLoaded() then
    game.Loaded:Wait()
end

local Player = game:GetService("Players").LocalPlayer
local Character = Player.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local RootPart = Character:WaitForChild("HumanoidRootPart")

-- Notify
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "gÃ  gaming",
    Text = "Created by Anh - Loaded Successfully!",
    Duration = 5
})

-- Config
getgenv().Config = {
    AutoFarm = false,
    AutoBuso = true,
    AutoAbility = true,
    AutoSword = true,
    AutoMelee = false,
    AutoDefense = true,
    FarmDistance = 25,
    SelectDistance = 50
}

-- Auto Farm Function
function AutoFarm()
    spawn(function()
        while Config.AutoFarm do
            wait(0.1)
            pcall(function()
                local enemies = workspace.Enemies:GetChildren()
                local nearest = nil
                local dist = math.huge
                
                for _, enemy in pairs(enemies) do
                    if enemy:FindFirstChild("Humanoid") and enemy.Humanoid.Health > 0 then
                        local mag = (RootPart.Position - enemy.HumanoidRootPart.Position).Magnitude
                        if mag < dist then
                            dist = mag
                            nearest = enemy
                        end
                    end
                end
                
                if nearest then
                    -- Teleport to enemy
                    RootPart.CFrame = nearest.HumanoidRootPart.CFrame * CFrame.new(0, 0, Config.FarmDistance)
                    
                    -- Auto Click
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Click")
                    
                    -- Use Skills
                    if Config.AutoAbility then
                        for _, tool in pairs(Player.Backpack:GetChildren()) do
                            if tool:IsA("Tool") then
                                Player.Character.Humanoid:EquipTool(tool)
                                if tool:FindFirstChild("RemoteFunction") then
                                    tool.RemoteFunction:InvokeServer()
                                end
                            end
                        end
                    end
                end
            end)
        end
    end)
end

-- Auto Buso Haki
function AutoBuso()
    spawn(function()
        while Config.AutoBuso do
            wait(10)
            pcall(function()
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Buso")
            end)
        end
    end)
end

-- Auto Stats
function AutoStats()
    spawn(function()
        while true do
            wait(1)
            if Config.AutoMelee then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("AddPoint", "Melee", 1)
            end
            if Config.AutoDefense then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("AddPoint", "Defense", 1)
            end
            if Config.AutoSword then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("AddPoint", "Sword", 1)
            end
        end
    end)
end

-- Start Functions
AutoFarm()
AutoBuso()
AutoStats()

-- Simple GUI
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local TextLabel = Instance.new("TextLabel")

ScreenGui.Parent = game.CoreGui
Frame.Parent = ScreenGui
Frame.Size = UDim2.new(0, 200, 0, 150)
Frame.Position = UDim2.new(0, 10, 0, 10)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)

TextLabel.Parent = Frame
TextLabel.Size = UDim2.new(1, 0, 1, 0)
TextLabel.Text = "ðŸ”° BLOX FRUIT SCRIPT\n\nâœ… Auto Farm: ON\nâœ… Auto Buso: ON\nâœ… Auto Stats: ON\n\nCreated by Anh"
TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.BackgroundTransparency = 1
TextLabel.TextSize = 14